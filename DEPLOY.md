# B2B äº§å“å±•ç¤ºç½‘ç«™ - éƒ¨ç½²è¯´æ˜

## é¡¹ç›®å·²å®Œæˆçš„åŠŸèƒ½

### âœ… å‰å°ç½‘ç«™
1. **Home é¡µé¢** - ä¼ä¸šç®€ä»‹å’Œç²¾é€‰äº§å“å±•ç¤º
2. **Products é¡µé¢** - äº§å“åˆ—è¡¨ã€åˆ†ç±»ç­›é€‰ã€æœç´¢åŠŸèƒ½
3. **Product Detail é¡µé¢** - äº§å“è¯¦ç»†ä¿¡æ¯å’Œè¯¢ç›˜åŠŸèƒ½
4. **About é¡µé¢** - å…¬å¸ä»‹ç»ã€å‘å±•å†ç¨‹ã€èµ„è´¨è¯ä¹¦
5. **Contact é¡µé¢** - è”ç³»ä¿¡æ¯å’Œåœ¨çº¿è¯¢ç›˜è¡¨å•
6. **å“åº”å¼è®¾è®¡** - è‡ªé€‚åº”ç§»åŠ¨ç«¯ã€å¹³æ¿ã€PCç«¯

### âœ… åå°ç®¡ç†ç³»ç»Ÿ
1. **ç®¡ç†å‘˜ç™»å½•** - å®‰å…¨è®¤è¯ï¼ˆé»˜è®¤è´¦å·ï¼šadmin/admin123ï¼‰
2. **Dashboard** - ç»Ÿè®¡æ•°æ®æ¦‚è§ˆ
3. **äº§å“ç®¡ç†** - äº§å“åˆ—è¡¨ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½
4. **è¯¢ç›˜ç®¡ç†** - æŸ¥çœ‹ã€å¤„ç†ã€åˆ é™¤è¯¢ç›˜

### âœ… åç«¯ API
1. **äº§å“ API** - GET/POST/PUT/DELETE å®Œæ•´ CRUD
2. **è¯¢ç›˜ API** - æäº¤è¯¢ç›˜ã€æŸ¥è¯¢ã€çŠ¶æ€æ›´æ–°
3. **ç®¡ç†å‘˜ API** - ç™»å½•è®¤è¯ã€Token éªŒè¯

### âœ… æ•°æ®åº“è®¾è®¡
- Products è¡¨ - äº§å“ä¿¡æ¯
- Inquiries è¡¨ - è¯¢ç›˜ä¿¡æ¯
- Admins è¡¨ - ç®¡ç†å‘˜è´¦æˆ·

## éƒ¨ç½²æ­¥éª¤

### 1. å®‰è£…ä¾èµ–

\`\`\`bash
npm install
\`\`\`

### 2. åˆ›å»º D1 æ•°æ®åº“

\`\`\`bash
# åˆ›å»ºæ•°æ®åº“
wrangler d1 create b2b_database

# è®°å½•è¾“å‡ºçš„ database_idï¼Œæ›´æ–°åˆ° wrangler.toml æ–‡ä»¶ä¸­
\`\`\`

### 3. æ›´æ–°é…ç½®

ç¼–è¾‘ `wrangler.toml`ï¼Œå°† `database_id` æ›¿æ¢ä¸ºæ­¥éª¤2ä¸­åˆ›å»ºçš„å®é™…IDï¼š

\`\`\`toml
[[d1_databases]]
binding = "DB"
database_name = "b2b_database"
database_id = "ä½ çš„-database-id"  # æ›¿æ¢è¿™é‡Œ
\`\`\`

### 4. åˆå§‹åŒ–æ•°æ®åº“

\`\`\`bash
# æ‰§è¡Œæ•°æ®åº“ schema
wrangler d1 execute b2b_database --file=./schema/schema.sql
\`\`\`

### 5. æœ¬åœ°å¼€å‘æµ‹è¯•

\`\`\`bash
npm run dev
\`\`\`

è®¿é—® http://localhost:8787 æµ‹è¯•ç½‘ç«™åŠŸèƒ½

### 6. éƒ¨ç½²åˆ° Cloudflare

\`\`\`bash
npm run deploy
\`\`\`

## é‡è¦è¯´æ˜

### âš ï¸ é™æ€èµ„æºå¤„ç†

ç”±äº Cloudflare Workers çš„é™åˆ¶ï¼Œé™æ€æ–‡ä»¶ï¼ˆCSS/JS/å›¾ç‰‡ï¼‰éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¹‹ä¸€å¤„ç†ï¼š

**æ–¹æ¡ˆ1ï¼šä½¿ç”¨ Cloudflare KV å­˜å‚¨**
\`\`\`bash
# åˆ›å»º KV å‘½åç©ºé—´
wrangler kv:namespace create "STATIC_ASSETS"

# ä¸Šä¼ é™æ€æ–‡ä»¶
wrangler kv:key put --binding=STATIC_ASSETS "/css/main.css" ./public/css/main.css
wrangler kv:key put --binding=STATIC_ASSETS "/js/main.js" ./public/js/main.js
wrangler kv:key put --binding=STATIC_ASSETS "/js/admin.js" ./public/js/admin.js
\`\`\`

**æ–¹æ¡ˆ2ï¼šä½¿ç”¨ Cloudflare R2 å­˜å‚¨**
- ä¸Šä¼  public ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ° R2
- é…ç½®è‡ªå®šä¹‰åŸŸå
- ä¿®æ”¹ä»£ç ä¸­çš„é™æ€èµ„æºå¼•ç”¨è·¯å¾„

**æ–¹æ¡ˆ3ï¼ˆæ¨èï¼‰ï¼šå†…è”é™æ€èµ„æº**
- CSS å¯ä»¥ç›´æ¥å†…è”åˆ° HTML çš„ `<style>` æ ‡ç­¾ä¸­
- JavaScript å¯ä»¥ç›´æ¥å†…è”åˆ° HTML çš„ `<script>` æ ‡ç­¾ä¸­
- å¯¹äºå°å‹é¡¹ç›®ï¼Œè¿™æ˜¯æœ€ç®€å•çš„æ–¹æ¡ˆ

### ğŸ” å®‰å…¨è®¾ç½®

1. **ä¿®æ”¹ç®¡ç†å‘˜å¯†ç **
   - é¦–æ¬¡ç™»å½•åï¼Œå»ºè®®åœ¨æ•°æ®åº“ä¸­æ›´æ–°ç®¡ç†å‘˜å¯†ç 
   - ä½¿ç”¨ `src/utils/auth.js` ä¸­çš„ `hashPassword` å‡½æ•°ç”Ÿæˆæ–°çš„å¯†ç å“ˆå¸Œ

2. **JWT Secret**
   - ä¿®æ”¹ `src/api/handlers/admin.js` ä¸­çš„ `JWT_SECRET`
   - å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨

3. **ç¯å¢ƒå˜é‡é…ç½®**
   åœ¨ `wrangler.toml` ä¸­æ·»åŠ ï¼š
   \`\`\`toml
   [vars]
   JWT_SECRET = "your-very-secure-secret-key"
   ENVIRONMENT = "production"
   \`\`\`

## ä½¿ç”¨è¯´æ˜

### å‰å°åŠŸèƒ½

1. **æµè§ˆäº§å“**
   - è®¿é—®é¦–é¡µæŸ¥çœ‹ç²¾é€‰äº§å“
   - è¿›å…¥ Products é¡µé¢æµè§ˆæ‰€æœ‰äº§å“
   - ä½¿ç”¨åˆ†ç±»å’Œæœç´¢åŠŸèƒ½ç­›é€‰äº§å“

2. **äº§å“è¯¢ç›˜**
   - åœ¨äº§å“è¯¦æƒ…é¡µç‚¹å‡» "Send Inquiry"
   - å¡«å†™è¯¢ç›˜è¡¨å•æäº¤
   - æˆ–åœ¨ Contact é¡µé¢æäº¤é€šç”¨è¯¢ç›˜

### åå°ç®¡ç†

1. **ç™»å½•**
   - è®¿é—® `/admin` æˆ– `/admin/login`
   - é»˜è®¤è´¦å·ï¼š`admin`
   - é»˜è®¤å¯†ç ï¼š`admin123`

2. **ç®¡ç†äº§å“**
   - æŸ¥çœ‹æ‰€æœ‰äº§å“
   - ç¼–è¾‘äº§å“ä¿¡æ¯
   - åˆ é™¤ä¸éœ€è¦çš„äº§å“
   - æ·»åŠ æ–°äº§å“

3. **ç®¡ç†è¯¢ç›˜**
   - æŸ¥çœ‹æ‰€æœ‰è¯¢ç›˜
   - æŸ¥çœ‹è¯¢ç›˜è¯¦æƒ…
   - æ›´æ–°è¯¢ç›˜çŠ¶æ€
   - åˆ é™¤å·²å¤„ç†çš„è¯¢ç›˜

## é¡¹ç›®ç»“æ„

\`\`\`
cf_b2b/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js              # Workers å…¥å£
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ router.js         # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ handlers/         # API å¤„ç†å™¨
â”‚   â”‚       â”œâ”€â”€ products.js   # äº§å“ API
â”‚   â”‚       â”œâ”€â”€ inquiries.js  # è¯¢ç›˜ API
â”‚   â”‚       â””â”€â”€ admin.js      # ç®¡ç†å‘˜ API
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ router.js         # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ layout.js         # é¡µé¢å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ home.js           # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ products.js       # äº§å“åˆ—è¡¨é¡µ
â”‚   â”‚   â”œâ”€â”€ product-detail.js # äº§å“è¯¦æƒ…é¡µ
â”‚   â”‚   â”œâ”€â”€ about.js          # å…³äºæˆ‘ä»¬é¡µ
â”‚   â”‚   â”œâ”€â”€ contact.js        # è”ç³»æˆ‘ä»¬é¡µ
â”‚   â”‚   â”œâ”€â”€ admin-login.js    # ç®¡ç†å‘˜ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ admin-dashboard.js# ç®¡ç†åå°
â”‚   â”‚   â””â”€â”€ static.js         # é™æ€èµ„æºå¤„ç†
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ auth.js           # è®¤è¯å·¥å…·
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ main.css          # ä¸»æ ·å¼è¡¨
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ main.js           # ä¸» JS æ–‡ä»¶
â”‚       â””â”€â”€ admin.js          # ç®¡ç†åå° JS
â”œâ”€â”€ schema/
â”‚   â”œâ”€â”€ schema.sql            # æ•°æ®åº“ç»“æ„
â”‚   â””â”€â”€ init.sql              # åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ package.json
â”œâ”€â”€ wrangler.toml
â””â”€â”€ README.md
\`\`\`

## ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®

1. âœ¨ å®ç°å®Œæ•´çš„äº§å“ç¼–è¾‘è¡¨å•
2. ğŸ“§ æ·»åŠ é‚®ä»¶é€šçŸ¥åŠŸèƒ½ï¼ˆè¯¢ç›˜æé†’ï¼‰
3. ğŸ–¼ï¸ é›†æˆå›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼ˆä½¿ç”¨ R2ï¼‰
4. ğŸ” å¢å¼ºæœç´¢åŠŸèƒ½ï¼ˆå…¨æ–‡æœç´¢ï¼‰
5. ğŸ“Š æ·»åŠ æ›´å¤šç»Ÿè®¡å›¾è¡¨
6. ğŸŒ å¤šè¯­è¨€æ”¯æŒ
7. ğŸ’¾ æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆExcel/CSVï¼‰
8. ğŸ”” å®æ—¶é€šçŸ¥ç³»ç»Ÿ

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Wrangler CLI ç‰ˆæœ¬æ˜¯å¦æœ€æ–°
2. D1 æ•°æ®åº“æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–
3. wrangler.toml é…ç½®æ˜¯å¦æ­£ç¡®
4. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## License

MIT
